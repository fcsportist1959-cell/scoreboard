<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        body { font-family: sans-serif; padding: 15px; background: #f4f4f4; text-align: center; }
        .card { background: white; padding: 15px; border-radius: 10px; margin-bottom: 15px; border: 1px solid #ddd; }
        button { padding: 12px; font-size: 16px; margin: 3px; border-radius: 5px; border: none; cursor: pointer; min-width: 60px; }
        .btn-plus { background: #28a745; color: white; }
        .btn-minus { background: #6c757d; color: white; }
        .btn-blue { background: #007bff; color: white; }
        input[type="text"], input[type="number"] { padding: 10px; margin: 5px; width: 120px; border: 1px solid #ccc; }
    </style>
</head>
<body>

    <div class="card">
        <h3>‚öΩ –†–ï–ó–£–õ–¢–ê–¢</h3>
        <div>
            <b>HOME:</b> 
            <button class="btn-minus" onclick="change(-1, 0)">-1</button>
            <button class="btn-plus" onclick="change(1, 0)">+1</button>
        </div>
        <div style="margin-top:10px;">
            <b>AWAY:</b> 
            <button class="btn-minus" onclick="change(0, -1)">-1</button>
            <button class="btn-plus" onclick="change(0, 1)">+1</button>
        </div>
    </div>

    <div class="card">
        <h3>‚è±Ô∏è –¢–ê–ô–ú–ï–†</h3>
        <button class="btn-blue" onclick="timer('start')">START</button>
        <button style="background:#ffc107;" onclick="timer('pause')">PAUSE</button>
        <button style="background:#dc3545; color:white;" onclick="timer('reset')">RESET</button>
        <div style="margin-top:10px;">
            <input type="number" id="setMins" placeholder="–ú–∏–Ω—É—Ç–∏ (–Ω–∞–ø—Ä. 45)">
            <button class="btn-blue" onclick="setManualTime()">–ó–∞–¥–∞–π –≤—Ä–µ–º–µ</button>
        </div>
    </div>

    <div class="card">
        <h3>üé® –û–¢–ë–û–†–ò –ò –¶–í–ï–¢–û–í–ï</h3>
        <input type="text" id="hNameInput" placeholder="–ò–º–µ –î–æ–º–∞–∫–∏–Ω">
        <input type="color" id="hColorInput" value="#ff0000"><br>
        <input type="text" id="aNameInput" placeholder="–ò–º–µ –ì–æ—Å—Ç">
        <input type="color" id="aColorInput" value="#0000ff"><br>
        <button class="btn-plus" onclick="updateTeams()">–û–±–Ω–æ–≤–∏ –≤—Å–∏—á–∫–æ</button>
    </div>

    <script src="/socket.io/socket.io.js"></script>
    <script>
        const socket = io();
        let s = { home: 0, away: 0 };
        socket.on('update', (data) => { s = data; });

        function change(h, a) {
            socket.emit('changeScore', { home: Math.max(0, s.home + h), away: Math.max(0, s.away + a) });
        }
        function timer(cmd) { socket.emit('controlTimer', cmd); }
        
        function setManualTime() {
            const mins = document.getElementById('setMins').value;
            if(mins !== "") socket.emit('setManualTime', mins);
        }

        function updateTeams() {
            socket.emit('changeScore', { 
                homeName: document.getElementById('hNameInput').value || s.homeName,
                awayName: document.getElementById('aNameInput').value || s.awayName,
                homeColor: document.getElementById('hColorInput').value,
                awayColor: document.getElementById('aColorInput').value
            });
        }
    </script>
</body>
</html>
